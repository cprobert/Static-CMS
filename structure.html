<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Static-CMS folder structure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
	<link href='stylesheets/base-v1.1.css' type='text/css' rel='stylesheet'/>

	<script src="scripts/jquery-1.8.2.min.js"></script>
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="scripts/html5.js"></script>
    <![endif]-->
    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-8933957-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

  </head>

  <body onload="prettyPrint()">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">Static-CMS</a>
          <div class="nav-collapse">
            <ul class="nav">
			
				<li><a href='install.html' class=' '>
					Install
				</a></li>	
			
				<li><a href='structure.html' class='active '>
					Structure
				</a></li>	
			
				<li><a href='deploy.html' class=' '>
					Deploy
				</a></li>	
			
				<li><a href='air-monkey.html' class=' '>
					Air-Monkey
				</a></li>	
			
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <!-- Main hero unit for a primary marketing message or call to action -->
	  <header id="overview" class="jumbotron subhead">
			
<div class="hero-unit">
	<h1>Folder Structure</h1>
	
	<p>At the simplest level Static-CMS publishes all files in the public folder.  You can also generate files that will be merged with these static assets.</p>
	
</div>

	  </header>

      <!-- Example row of columns -->
      <div class="row">
        <section id="gridSystem">
	<div class="span12">
		<h2>Folder Structure</h2>
		<p>Take a look in the new folder, it should look something like:</p>
		<ul>
            <li>\public</li>
			<li>\templates\skin.erb.html</li>
			<li>\views\home-intro.html</li>
			<li>\views\home-main.html</li>
			<li>\config.yml</li>
		</ul>
		<h2>Creating a Template</h2>
		<p>Open the template &quot;templates/skin.html&quot;, and look at the code:</p>
		<div class="code">
          <pre class="prettyprint"><code class="language-html">
	&lt;!DOCTYPE html&gt;
	&lt;html lang=&quot;en&quot;&gt;
	  &lt;head&gt;
		&lt;title&gt;Static-CMS&lt;/title&gt;
		&lt;meta charset=&quot;utf-8&quot;&gt;
	  &lt;/head&gt;
	  &lt;body&gt;
		&lt;div class=&quot;container&quot;&gt;

			&lt;header&gt;
				  &lt;%= data.views[&quot;intro&quot;] %&gt;
			&lt;/header&gt;

		  &lt;div&gt;
			&lt;%= data.views[&quot;main&quot;] %&gt;
		  &lt;/div&gt;

		  &lt;footer&gt;&lt;/footer&gt;

		&lt;/div&gt; 
	  &lt;/body&gt;
	&lt;/html&gt;
          </code></pre>

		</div>
		<p>This is standard HTML 5 mark-up for a page. What&#39;s interesting is the code: <strong>&lt;%= data.views[&quot;intro&quot;] %&gt;</strong> . This is how you inject the content from the view into the page.</p>
      <p>Further reading for the template language <a href="http://www.stuartellis.eu/articles/erb/">http://www.stuartellis.eu/articles/erb/</a></p>
		<h2>Creating a view</h2>
		<p>Open the views (home-intro.html and home-main.html) in your favourite text editor and add some html, e.g</p>
		<div class="code">
          <pre class="prettyprint"><code class="language-html">
              &lt;p&gt;Hello World&lt;/p&gt;
              &lt;p&gt;This is an example view&lt;/p&gt;
          </code></pre>

		</div>
		<h2>Editing your config.yml</h2>
		<p>The content of your config.yml should look like:</p>
		<div class="code">
        
        <pre class="prettyprint"><code class="language-yaml">
            template: templates/skin.html
        
            pages:
            - index: 
                generate: index.html 
                views : 
                    intro: views/home-intro.html
                    main: views/home-main.html
        </code></pre>

		</div>
		<p>What&#39;s going on here?</p>
		<p>The &quot;pages&quot; configuration option contains a list of pages. Each page in turn contains the name of the page to generate and a list of views to &#39;inject&#39; into the template.</p>
		<p>The view defined as intro: will be injected into template here: &lt;%= data.views[&quot;intro&quot;] %&gt;<br />
			The view defined as main: will be injected into template here: &lt;%= data.views[&quot;main&quot;] %&gt;<br />
			<em>Note: Yaml doesn&#39;t like it if you use [tab] key - use spaces insted.</em></p>
		<h3>Build</h3>
		<p>To compile the website type the following in to the command menu:</p>
		<div class="code">
			<pre class="prettyprint"><code class="language-bsh">
  scms.cmd&nbsp;build www.mywebsite.com
			</code></pre>
		</div>
		<p>
			If all goes well you should be looking at your index page where the html from the views is merged with the html from the template. View the source of the compiled document to verify.</p>
		<h2>Asset Bundling</h2>
		<p>It&#39;s best practise to <a href="http://developer.yahoo.com/performance/rules.html#num_http" target="_blank">minimise your download requests</a>. Static-CMS has a system that allows you to &#39;bundle&#39; your css and javascript files. In your config.yaml (replace references with the names of your assets):</p>
		<div class="code">
			<pre class="prettyprint"><code class="language-yaml">
	scripts:
	- base:
		version: 1.1
		bundle:
		 - scripts/demo.js
	- libraries:
		version: 1.1
		bundle:
		 - google-code-prettify/prettify.js
		 - google-code-prettify/lang-yaml.js
		 - scripts/bootstrap-button.js

	stylesheets:
	- base:
		bundle:
		  - stylesheets/bootstrap.css
		  - stylesheets/demo.css
		  - stylesheets/bootstrap-responsive.css
		  - google-code-prettify/sons-of-obsidian.css
			</code></pre>
		</div>
		<p>Whats going on here?</p>
		<p>Like the &quot;pages&quot; configuration option you can specify lists for your scripts and stylesheets.</p>
		<p>You then replace your script and css references in your skin file like this:</p>
		<div class="code">
			<pre class="prettyprint"><code class="language-rb">
	&lt;link href=&#39;&lt;%= data.stylesheets[&quot;base&quot;] %&gt;&#39; type=&#39;text/css&#39; rel=&#39;stylesheet&#39;/&gt;
	&lt;script src=&#39;&lt;%= data.scripts[&quot;libraries&quot;] %&gt;&#39;&gt;&lt;/script&gt;
			</code></pre>
		</div>
		<p>Note the version is automatically built into the name of the bundled asset.</p>
	</div>
</section>


      </div>

      <hr>

      <footer>
		<p id="view-theme-vars"><a class="btn" href="#">View theme variables</a></p>
		<div style="diplay: none;" id="theme-vars">
			<p>Page: structure.html</p>
			<p>Sitedir: C:\Users\cprobert\Dropbox\Companies\iTutor Tech\Websites\static-cms.ipassexam.com</p>
			
			<p>Scripts: {"base"=>"scripts/base-v1.0.js", "libraries-min"=>"scripts/libraries-min-v1.1.js"}</p>
			<p>Stylesheets: {"base"=>"stylesheets/base-v1.1.css"}</p>
			<p>Config: {"generate"=>"structure.html", "resource"=>"resources/structure.yml", "views"=>{"intro"=>"views/structure-intro.html", "main"=>"views/structure-main.erb"}}</p>
			
			
			<p>Resource: {"title"=>"Static-CMS folder structure"}</p>
			<p>Views: (access like this: data.views["viewname"])</p>
		</div>
		<script>
			$(function(){
				$("#theme-vars").hide();
				$("#view-theme-vars").click(function(){
						$("#theme-vars").toggle();
				});
			});
		</script>
		
			
        <p>&copy; Courtenay Probert 2013</p>
      </footer>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    
	<script src='scripts/libraries-min-v1.1.js'></script>
	<script src='scripts/base-v1.0.js'></script>
    
  </body>
</html>
